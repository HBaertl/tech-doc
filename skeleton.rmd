---
title: "Tech Memo Methods Template"
output:
  word_document: default
  html_document: default
---

```{r setup,  echo = F, message=F}

#Load packages
library(knitr)
library(rmarkdown)

```

The purpose of this form is to provide the methods used to collect, process, and analyze derived data prior to data submission for all EDAB reports. This information will be compiled into the State of the Ecosystem Tech Memo, AND be used to meet metadata requirements put forth by the Public Access to Research Results (PARR) directive. 

For the tech memo, we will be documenting the methods behind each indicator to the level of a peer-reviewed document.


## Contributor name(s)


## Data name

### Indicator category 
1. Database pull
2. Database pull with analysis
3. Synthesis of published information
4. Extensive analysis; not yet published
5. Published methods


## Methods


### Data source(s) (All types)
Please provide a text description of data sources. 



### Data extraction 
Text overview description of extraction methods. What information was extracted and how was it aggregated? Can point to other indicator extraction methods if the same.



Write SQL query here
```{sql, eval = F, echo = T}
SELECT * FROM...
```

```{r r_extract, echo = T, eval = F}
# Extraction code
```

### Data analysis
Text description of analysis methods, similar in structure and detail to a peer-reviewed paper methods section.






What packages or libraries did you use in your work flow?
```{r packages, echo = T}
sessionInfo(package = NULL)


#Use this to output a detailed list of the package information
current.session <- sessionInfo(package = NULL)
current.session$otherPkgs
```


Include accompanying R code, pseudocode, flow of scripts, and/or link to location of code used in analyses.
```{r analysis, echo = T, eval = F}
# analysis code
```

### References
List references here.




### ERDDAP data set
If data are available, adjust code to pull those data and set "eval = T" in chunk header options.
```{r erddap pull, echo = T, eval = F}
library(rerddap)

comet <- 'http://comet.nefsc.noaa.gov/erddap/'

tab_list <- ed_datasets(url = comet)
tab_list <- data.frame(Title = tab_list$Title,
                        Identifier = tab_list$Dataset.ID,
                        Index = 1:nrow(tab_list))

#Get data set ID (will need to change)
#id <- as.character(tab_list$Identifier[9]) 

#Pull data
data <- tabledap(id,url = comet)

#Print metadata
metadata <- info(id, url = "http://comet.nefsc.noaa.gov/erddap/")$alldata$NC_GLOBAL
cat(metadata[metadata$attribute_name == "lineage processing steps",]$value)

```


### Further metadata
Fill out the following metadata required by PARR


#### Public availability statement
Will source data be available to the public? If not, is a Data Access Waiver necessary?


#### Point of contact - Whom should be contacted?


#### Data steward (can be POC; in charge of keeping data updated)









