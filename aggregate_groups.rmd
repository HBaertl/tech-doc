# Aggregate Groups {#aggroups}

```{r setup,  echo = F, message=F}

#Load packages
library(knitr)
library(rmarkdown)

```


**Description**: Mappings of species into aggregate group categories for different analyses

**Indicator category**: Synthesis of published information 

**Contributor(s)**: Geret DePiper, Sarah Gaichas, Sean Hardison, Sean Lucey
  
**Data steward**: Sean Lucey <Sean.Lucey@noaa.gov>
  
**Point of contact**: Sean Lucey <Sean.Lucey@noaa.gov>
  
**Public availability statement**: Source data is available to the public


## Methods


### Data source(s) (All types)

These data identify species groupings used in analyses of marine community structure and function in the Northeast Large Marine Ecosystem (NE-LME). Included are species common names (COMNAME) along with scientific names (SCINAME) and several species codes. SVSPP codes are used by the NEFSC Ecosystems Surveys Branch in their fishery-independent Survey Database (SVDBS) while NESPP3 codes refer to the codes used by the Commercial Fisheries Database System (CFDBS) for fishery-dependent data. A third species code provided is the ITISSPP, which refers to species identifiers used by the Integrated Taxonomic Information System (ITIS). Digits within ITIS codes are hierarchical, with different positions in the identifier referring to higher or lower taxonomic levels. More information about the SVDBS, CFDBS, and ITIS species codes are available in the links provided below.

The column variable "Fed.managed" refers to the species' management body (limited to NEFMC, MAFMC, or jointly managed species ("JOINT")). Group names listed under columns containing "SOE" are species groupings that were used in the State of the Ecosystem Reports, which are delivered to the New England Fishery Management Council (NEFMC) and Mid-Atlantic Fishery Management Council (MAFMC) to provide ecosystems context. SOE groupings classify species according to feeding guilds derived from Garrison and Link (2000) and Link et al. (2006). These groupings are refined annually for more effective reporting and differ slightly between years. The columns "EMAX" and "Garrison.Link" refer to the species groupings presented in Link et al. (2006) and Garrison and Link (2000) respectively. 

Species groupings listed in the "NEIEA" column were developed for presentation on the Northeast Integrated Ecosystem Assessment (NE-IEA) website. These groupings are based on EMAX groupings, but were adjusted based on conceptual models developed for the NE-IEA program that highlight focal components in the NE-LME (i.e. those components with the largest potential for perturbing ecosystem dynamics). NE-IEA groupings were further simplified to allow for effective communication through the NE-IEA website.

See the following links for more information regarding the NEFSC ESB Bottom Trawl Survey, CFDBS, and ITIS:
https://www.itis.gov/
https://inport.nmfs.noaa.gov/inport/item/22561
https://inport.nmfs.noaa.gov/inport/item/22560
https://inport.nmfs.noaa.gov/inport/item/27401	

More information about the NE-IEA program is available here:
http://integratedecosystemassessment.noaa.gov

*Notes on rationale for SOE categories, could include in the above
  2017 SOE categories (species not size simplified from Garrison and Link 2000 and EMAX; also initial EBFM PDT categories)
  2018 SOE categories (simplified from 2017)
  NEIEA groups (adjust for conceptual model, focal components mapped back to EMAX for ecology but expanded for other components, and generalized for website descriptions)
  2019 SOE categories (more sensible from 2018)*

### Data extraction 

Pull data by species code, map to aggregate group as in table.

Alternatively, could pull by size and species, then map to aggregate as in Garrison and Link 2000



Write SQL query here
```{sql, eval = F, echo = T}
SELECT * FROM...
```

R code used in extraction process.
```{r r_extract, echo = T, eval = F}
# Insert R code used for extraction here
```

### Data analysis


however extracted, sum over aggregate




What packages or libraries did you use in your work flow?
```{r packages, echo = T}
sessionInfo(package = NULL)
#Insert packages used here

#Use this to output a detailed list of the package information
#current.session <- sessionInfo(package = NULL)
#current.session$otherPkgs
```


Include accompanying R code, pseudocode, flow of scripts, and/or link to location of code used in analyses.
```{r analysis, echo = T, eval = F}
# Insert analysis code here
```








