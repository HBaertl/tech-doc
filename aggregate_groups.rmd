# Aggregate Groups {#aggroups}

```{r setup,  echo = F, message=F}

#Load packages
library(knitr)
library(rmarkdown)

```


**Description**: Mappings of species into aggregate group categories for different analyses

**Indicator category**: Synthesis of published information 

**Contributor(s)**: Geret DePiper, Sarah Gaichas, Sean Hardison, Sean Lucey
  
**Data steward**: Sean Lucey <Sean.Lucey@noaa.gov>
  
**Point of contact**: Sean Lucey <Sean.Lucey@noaa.gov>
  
**Public availability statement**: Source data is available to the public


## Methods


### Data source(s) (All types)

Define Columns: 
Species codes for (3 databases, describe) 
Common name (AFS list?)
Scientific name (AFS list? Other source?)
Aggregate groups
  
  EBFM PDT (define, need rationale for mappings, Garrison and Link 2000 but used species rather than species and size, decisions on which sizes dominate for mapping)
  
  EMAX (ref Link Tech Memo and 2-3 papers, rational for mappings in that documentation?)
  
    GET RID OF Q VALUES IN THIS TABLE, NOT USED HERE
  
    Rpath (define, maybe dont need here?): decision: remove
  
  SOE Feeding guilds (simplifed from EBFM PDT/Garrison and link to have fewer groups, ensure that mappings make sense)
  
  NEIEA (what needed mapping from guilds to website? define)

New columns
retain:
Species codes for (3 databases, describe) 
Common name (AFS list?)
Scientific name (AFS list? Other source?)

  Federal management (MAFMC, NEFMC, both, NA)
  State management (ASMFC, [individual state], NA)
  
  Garrison and Link 2000 (species and size)
  EMAX categories (Link et al papers/Tech memo)
  
  Rpath categories (expanded from EMAX and updated)
  
  2017 SOE categories (species not size simplified from Garrison and Link 2000 and EMAX; also initial EBFM PDT categories)
  2018 SOE categories (simplified from 2017)
  NEIEA groups (adjust for conceptual model, focal components mapped back to EMAX for ecology but expanded for other components, and generalized for website descriptions)
  2019 SOE categories (more sensible from 2018)

### Data extraction 

Pull data by species code, map to aggregate group as in table.

Alternatively, could pull by size and species, then map to aggregate as in Garrison and Link 2000



Write SQL query here
```{sql, eval = F, echo = T}
SELECT * FROM...
```

R code used in extraction process.
```{r r_extract, echo = T, eval = F}
# Insert R code used for extraction here
```

### Data analysis


however extracted, sum over aggregate




What packages or libraries did you use in your work flow?
```{r packages, echo = T}
sessionInfo(package = NULL)
#Insert packages used here

#Use this to output a detailed list of the package information
#current.session <- sessionInfo(package = NULL)
#current.session$otherPkgs
```


Include accompanying R code, pseudocode, flow of scripts, and/or link to location of code used in analyses.
```{r analysis, echo = T, eval = F}
# Insert analysis code here
```








